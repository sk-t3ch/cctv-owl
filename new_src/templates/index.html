<html>
  <head>
    <title>Coral Edge TPU Streamer</title>
  </head>
  <body>
    <h1>Coral Edge TPU Streamer</h1>
    <img src="{{ url_for('video_feed') }}">
    <button onclick="updateConfig('person')">Get Persons</button>
    <button onclick="updateConfig('banana')">Get Bananas</button>
  </body>

<script>
async function updateConfig(label) {
  const config = {
    'selected_label': label,
    'selected_threshold': 0.7
  }
  const result = await fetch("{{ url_for('update_config') }}", {
    method: 'POST',
    body: JSON.stringify(config),
    headers: {
      'Content-Type': 'application/json'
    }
  }).then(resp => resp.json())
  console.log(result)
}
</script>
</html>
